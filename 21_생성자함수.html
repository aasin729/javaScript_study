<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>생성자함수(객체공장)</title>
    <style> 
        table { border-collapse: collapse; width: 500px; margin: 50px auto;}
        td,th { text-align: center; padding: 10px 0;}
    </style>
</head>
<body>

    <!--
        생성자 함수 : 객체를 만드는 함수
        생성자 함수명은 첫글자는 반드시 대문자여야 함 
        function 생성자 함수명(매개변수) {
            this.속성명 = 매개변수
        } 
        var 변수 = new 생성자함수명(값)
      -->
    
    <script>
        // 생성자 함수 호출 
        function Student(name, html, css, js){
            this.name = name
            this.html = html
            this.css = css
            this.js = js
            // this.avg = function(){
            //     return Math.round((html + css + js) / 3)  
            // }
        }


        // prototype을 사용하는 이유 : 인스턴스 객체를 생성할 때마다
        // 인스턴스에 메서드가 할당되어 인스턴스 메서드
        // 개수만큼 메모리를 차지 했다. 성능이 저하되고 메모리의
        // 효율이 떨어진다. 이러한 단점을 보완하고자 함수에 메서드를
        // 정의 하지 않고, 함수에 메서드를 정의 하지 않고, 
        // 생성자 함수 밖에서 공통으로 사용할 메서드를 정의하여 메모리를 절약한다. 

        Student.prototype.avg = function(){
                return Math.round((this.html + this.css + this.js) / 3)  
            }

        var students = []
        students.push(new Student('홍길동',80,100,70))
        students.push(new Student('장나라',90,80,60))
        students.push(new Student('김민수',90,80,80))

        console.log(students)

        var table = "<table border='1'>"
        table += "<tr>"
        table += "<th>이름</th>"
        table += "<th>html과목</th>"
        table += "<th>css과목</th>"
        table += "<th>js과목</th>"
        table += "<th>평균</th>"
        table += "</tr>"

        for(let i in students){
            table += `<tr>`
            table += `<td>${students[i].name}</td>`
            table += `<td>${students[i].html}점</td>`
            table += `<td>${students[i].css}점</td>`
            table += `<td>${students[i].js}점</td>`
            table += `<td>${students[i].avg()}점</td>`
            // table += `<td>${students[i].avg()}점</td>`
            table += `</tr>`
        }
        table += "</table>"
        document.write(table)
    </script>


    
</body>
</html>